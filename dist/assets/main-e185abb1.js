/* empty css               */(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=l(t);fetch(t.href,i)}})();(function(){const e={greenFormats:["17","18","22"],blueFormats:["139","140","141","249","250","251","599","600"],defaultColor:"#9e0cf2"};function o(s){if(!s||typeof s!="string")return console.error("Invalid URL provided to getVideoId:",s),null;try{const r=new URL(s);if(["www.youtube.com","youtube.com","youtu.be"].includes(r.hostname)){if(r.hostname==="youtu.be"){const a=r.pathname.slice(1);return a.length===11?a:null}if(r.hostname.includes("youtube.com")){if(r.pathname.startsWith("/shorts/"))return r.pathname.split("/")[2];const a=r.searchParams.get("v");return a&&a.length===11?a:null}}if(["www.facebook.com","facebook.com","m.facebook.com","web.facebook.com"].includes(r.hostname)){if(r.pathname.startsWith("/reel/"))return r.pathname.split("/")[2];const a=r.pathname.match(/\/(?:videos?|reel)\/(\d+)/);if(a)return a[1]}return console.warn("Unrecognized video URL format:",s),null}catch(r){return console.error("Error parsing URL in getVideoId:",r),null}}function l(s){return DOMPurify.sanitize(s)}function n(s,r){const a=document.getElementById(s);a?a.innerHTML=r:console.warn(`Element with ID "${s}" not found.`)}function t(s,r=1){const a=`https://vkrdownloader.xyz/server?api_key=vkrdownloader&vkr=${encodeURIComponent(s)}`,w=r;$.ajax({url:a,type:"GET",cache:!0,async:!0,crossDomain:!0,dataType:"json",timeout:15e3,success:function(h){(function(p,g){var u;if(document.getElementById("container").style.display="block",document.getElementById("loading").style.display="none",p.data){const d=p.data,k=d.downloads.map(m=>m.url),y=d.source,c=o(y),I=y&&(y.includes("youtube.com")||y.includes("youtu.be")),f=I&&c?`https://i.ytimg.com/vi/${c}/hqdefault.jpg`:d.thumbnail,S=`
  <video style='background: black url(${f}) center center/cover no-repeat; width:100%; height:500px; border-radius:20px;' 
         poster='${f}' controls playsinline>
      <source src='${((u=d.downloads[5])==null?void 0:u.url)||""}' type='video/mp4'>
      ${Array.isArray(k)?k.map(m=>`<source src='${m}' type='video/mp4'>`).join(""):""}
      <source src='https://vkrdownloader.xyz/server/dl.php?vkr=${encodeURIComponent(g)}' type='video/mp4'>
  </video>`,D=`
          <video style='background: black url(${f}) center center/cover no-repeat; width:100%; height:500px; border-radius:20px;' 
                 poster='${f}' controls playsinline>
               <source src='https://vkrdownloader.xyz/server/redirect.php?vkr=https://youtu.be/${c}' type='video/mp4'>
               <source src='https://vkrdownloader.xyz/server/dl.php?vkr=${g}' type='video/mp4'>
              ${k.map(m=>`<source src='${m}' type='video/mp4'>`).join("")}
          </video>`,q=d.title?`<h3>${l(d.title)}</h3>`:"",O=d.description?`<h4><details><summary>View Description</summary>${l(d.description)}</details></h4>`:"",j=d.size?`<h4>${l(d.size)}</h4>`:"",V=d.uploader?`<div><i class="bi bi-person-circle me-2"></i>${l(d.uploader)}</div>`:"",N=d.extractor?`<div><i class="bi bi-gear me-2"></i>Extracted via: ${l(d.extractor)}</div>`:"",A=d.downloads&&d.downloads.length>0?`<div><i class="bi bi-link-45deg me-2"></i>Available formats: ${d.downloads.length}</div>`:"";n("thumb",I&&c?D:S),n("title",q),n("description",O),n("duration",j),n("uploader",V),n("extractor",N),n("downloadURL",A),function(m){const U=document.getElementById("download");if(U.innerHTML="",m.data){const F=m.data.downloads,x=m.data.source,Y=o(x);x&&(x.includes("youtube.com")||x.includes("youtu.be"))&&Y&&["mp3","360","720","1080"].forEach(E=>{U.innerHTML+=`
    <iframe style="border: 0; outline: none; display:inline; min-width: 150px; max-height: 45px; height: 45px !important; margin-top: 10px; overflow: hidden;"   sandbox="allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-downloads allow-downloads-without-user-activation"  scrolling="no"
     src="https://vkrdownloader.xyz/server/dlbtn.php?q=${encodeURIComponent(E)}&vkr=${encodeURIComponent(x)}">
     </iframe>`}),F.forEach(E=>{if(E&&E.url){const M=E.url,K=function(L,Q){L=L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");const C=new RegExp(`[?&]${L}(=([^&#]*)|&|#|$)`).exec(Q);return C&&C[2]?decodeURIComponent(C[2].replace(/\+/g," ")):""}("itag",M),z=(R=K,e.greenFormats.includes(R)?"green":e.blueFormats.includes(R)?"#3800ff":e.defaultColor),W=E.format_id,_=E.size,G=z===e.defaultColor?"#3f5974":z,J=`https://vkrdownloader.xyz/forcedl?forceT=${m.data.title}&forceD=${encodeURIComponent(M)}`;U.innerHTML+=`
<button class="dlbtns" style="background:${G}; color: white; font-weight: bold;" onclick="window.location.href='${J}'">
  ${l(W)} - ${l(_)}
</button>
`}var R})}else i("No download links found or data structure is incorrect."),document.getElementById("loading").style.display="none";U.innerHTML.trim()===""&&(i("Server Down due to Too Many Requests. Please contact us on Social Media @TheOfficialVKr."),document.getElementById("container").style.display="none")}(p)}else i("Issue: Unable to retrieve the download link. Please check the URL and contact us on Social Media @TheOfficialVKr."),document.getElementById("loading").style.display="none"})(h,s)},error:function(h,p,g){if(r>0){let u=3e3*Math.pow(2,w-r);console.log(`Retrying in ${u/1e3} seconds... (${r} attempts left)`),setTimeout(()=>t(s,r-1),u)}else{const u=function(d,k,y){const c=d.status;let I=`Status: ${k}, Error: ${y}`;if(d.responseText)try{const f=JSON.parse(d.responseText);f&&f.error&&(I+=`, Server Error: ${f.error}`)}catch{I+=", Unable to parse server response."}switch(c){case 0:return"Network Error: The server is unreachable.";case 400:return"Bad Request: The input URL might be incorrect.";case 401:return"Unauthorized: Please check the API key.";case 429:return"Too Many Requests: You are being rate-limited.";case 503:return"Service Unavailable: The server is temporarily overloaded.";default:return`${I}, HTTP ${c}: ${d.statusText||y}`}}(h,p,g);console.error(`Error Details: ${u}`),i("Unable to fetch the download link after several attempts. Please check the URL or try again and Click agin on Download Button or Refresh web Page."),document.getElementById("loading").style.display="none"}},complete:function(){document.getElementById("downloadBtn").disabled=!1}})}function i(s){const r=document.getElementById("error");r?(r.innerHTML=l(s),r.style.display="block"):alert(s)}document.getElementById("downloadBtn").addEventListener("click",function(s,r){let a;return function(...w){clearTimeout(a),a=setTimeout(()=>s.apply(this,w),r)}}(function(){document.getElementById("loading").style.display="initial",document.getElementById("downloadBtn").disabled=!0;const s=document.getElementById("inputUrl").value.trim();if(!s)return i("Please enter a valid video URL."),document.getElementById("loading").style.display="none",void(document.getElementById("downloadBtn").disabled=!1);t(s)},300))})();const B={greenFormats:["17","18","22"],blueFormats:["139","140","141","249","250","251","599","600"],defaultColor:"#9e0cf2"};function X(e){return B.greenFormats.includes(e)?"green":B.blueFormats.includes(e)?"#3800ff":B.defaultColor}function Z(e,o){let l;return function(...n){clearTimeout(l),l=setTimeout(()=>e.apply(this,n),o)}}function H(e){if(!e||typeof e!="string")return console.error("Invalid URL provided to getVideoId:",e),null;try{const o=new URL(e);if(["www.youtube.com","youtube.com","youtu.be"].includes(o.hostname)){if(o.hostname==="youtu.be"){const t=o.pathname.slice(1);return t.length===11?t:null}if(o.hostname.includes("youtube.com")){if(o.pathname.startsWith("/shorts/"))return o.pathname.split("/")[2];const t=o.searchParams.get("v");return t&&t.length===11?t:null}}if(["www.facebook.com","facebook.com","m.facebook.com","web.facebook.com"].includes(o.hostname)){if(o.pathname.startsWith("/reel/"))return o.pathname.split("/")[2];const t=o.pathname.match(/\/(?:videos?|reel)\/(\d+)/);if(t)return t[1]}return console.warn("Unrecognized video URL format:",e),null}catch(o){return console.error("Error parsing URL in getVideoId:",o),null}}function b(e){return DOMPurify.sanitize(e)}function v(e,o){const l=document.getElementById(e);l?l.innerHTML=o:console.warn(`Element with ID "${e}" not found.`)}function ee(e,o){e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(o);return!n||!n[2]?"":decodeURIComponent(n[2].replace(/\+/g," "))}function P(e,o=1){const l=`https://vkrdownloader.xyz/server?api_key=vkrdownloader&vkr=${encodeURIComponent(e)}`,n=3e3,t=o;$.ajax({url:l,type:"GET",cache:!0,async:!0,crossDomain:!0,dataType:"json",timeout:15e3,success:function(i){oe(i,e)},error:function(i,s,r){if(o>0){let a=n*Math.pow(2,t-o);console.log(`Retrying in ${a/1e3} seconds... (${o} attempts left)`),setTimeout(()=>P(e,o-1),a)}else{const a=te(i,s,r);console.error(`Error Details: ${a}`),T("Unable to fetch the download link after several attempts. Please check the URL or try again and Click agin on Download Button or Refresh web Page."),document.getElementById("loading").style.display="none"}},complete:function(){document.getElementById("downloadBtn").disabled=!1}})}function te(e,o,l){const n=e.status;let t=`Status: ${o}, Error: ${l}`;if(e.responseText)try{const i=JSON.parse(e.responseText);i&&i.error&&(t+=`, Server Error: ${i.error}`)}catch{t+=", Unable to parse server response."}switch(n){case 0:return"Network Error: The server is unreachable.";case 400:return"Bad Request: The input URL might be incorrect.";case 401:return"Unauthorized: Please check the API key.";case 429:return"Too Many Requests: You are being rate-limited.";case 503:return"Service Unavailable: The server is temporarily overloaded.";default:return`${t}, HTTP ${n}: ${e.statusText||l}`}}document.getElementById("downloadBtn").addEventListener("click",Z(function(){document.getElementById("loading").style.display="initial",document.getElementById("downloadBtn").disabled=!0;const e=document.getElementById("inputUrl").value.trim();if(!e){T("Please enter a valid video URL."),document.getElementById("loading").style.display="none",document.getElementById("downloadBtn").disabled=!1;return}P(e)},300));function T(e){const o=document.getElementById("error");o?(o.innerHTML=b(e),o.style.display="block"):alert(e)}function oe(e,o){var l;if(document.getElementById("container").style.display="block",document.getElementById("loading").style.display="none",e.data){const n=e.data,t=n.downloads.map(c=>c.url),i=n.source,s=H(i),r=i&&(i.includes("youtube.com")||i.includes("youtu.be")),a=r&&s?`https://i.ytimg.com/vi/${s}/hqdefault.jpg`:n.thumbnail,w=`
  <video style='background: black url(${a}) center center/cover no-repeat; width:100%; height:500px; border-radius:20px;' 
         poster='${a}' controls playsinline>
      <source src='${((l=n.downloads[5])==null?void 0:l.url)||""}' type='video/mp4'>
      ${Array.isArray(t)?t.map(c=>`<source src='${c}' type='video/mp4'>`).join(""):""}
      <source src='https://vkrdownloader.xyz/server/dl.php?vkr=${encodeURIComponent(o)}' type='video/mp4'>
  </video>`,h=`
          <video style='background: black url(${a}) center center/cover no-repeat; width:100%; height:500px; border-radius:20px;' 
                 poster='${a}' controls playsinline>
               <source src='https://vkrdownloader.xyz/server/redirect.php?vkr=https://youtu.be/${s}' type='video/mp4'>
               <source src='https://vkrdownloader.xyz/server/dl.php?vkr=${o}' type='video/mp4'>
              ${t.map(c=>`<source src='${c}' type='video/mp4'>`).join("")}
          </video>`,p=n.title?`<h3>${b(n.title)}</h3>`:"",g=n.description?`<h4><details><summary>View Description</summary>${b(n.description)}</details></h4>`:"",u=n.size?`<h4>${b(n.size)}</h4>`:"",d=n.uploader?`<div><i class="bi bi-person-circle me-2"></i>${b(n.uploader)}</div>`:"",k=n.extractor?`<div><i class="bi bi-gear me-2"></i>Extracted via: ${b(n.extractor)}</div>`:"",y=n.downloads&&n.downloads.length>0?`<div><i class="bi bi-link-45deg me-2"></i>Available formats: ${n.downloads.length}</div>`:"";r&&s?v("thumb",h):v("thumb",w),v("title",p),v("description",g),v("duration",u),v("uploader",d),v("extractor",k),v("downloadURL",y),ne(e)}else T("Issue: Unable to retrieve the download link. Please check the URL and contact us on Social Media @TheOfficialVKr."),document.getElementById("loading").style.display="none"}function ne(e,o){const l=document.getElementById("download");if(l.innerHTML="",e.data){const n=e.data.downloads,t=e.data.source,i=H(t);t&&(t.includes("youtube.com")||t.includes("youtu.be"))&&i&&["mp3","360","720","1080"].forEach(a=>{l.innerHTML+=`
    <iframe style="border: 0; outline: none; display:inline; min-width: 150px; max-height: 45px; height: 45px !important; margin-top: 10px; overflow: hidden;"   sandbox="allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-downloads allow-downloads-without-user-activation"  scrolling="no"
     src="https://vkrdownloader.xyz/server/dlbtn.php?q=${encodeURIComponent(a)}&vkr=${encodeURIComponent(t)}">
     </iframe>`}),n.forEach(r=>{if(r&&r.url){const a=r.url,w=ee("itag",a),h=X(w),p=r.format_id,g=r.size,u=h===B.defaultColor?"#3f5974":h,d=`https://vkrdownloader.xyz/forcedl?forceT=${e.data.title}&forceD=${encodeURIComponent(a)}`;l.innerHTML+=`
<button class="dlbtns" style="background:${u}; color: white; font-weight: bold;" onclick="window.location.href='${d}'">
  ${b(p)} - ${b(g)}
</button>
`}})}else T("No download links found or data structure is incorrect."),document.getElementById("loading").style.display="none";l.innerHTML.trim()===""&&(T("Server Down due to Too Many Requests. Please contact us on Social Media @TheOfficialVKr."),document.getElementById("container").style.display="none")}
